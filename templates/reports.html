{% extends 'layout.html' %}
{% block title %}Report{% endblock %}

{% block body %}
<div
    class="my-2 lg:mt-12 px-6 flex flex-col md:flex-row items-start md:items-center justify-between pb-4 border-b border-gray-300">
    <div>
        <h4 class="text-2xl font-bold leading-tight text-gray-800">Reports</h4>
    </div>
</div>
{% if warning %}
<div class="bg-orange-100 border-l-4 border-orange-500 text-orange-700 p-4" role="alert">
    <p>{{ warning }}</p>
</div>
{% endif %}
{% if books%}
<!-- component -->
<div
    class="my-2 lg:my-4 px-6 flex flex-col md:flex-row items-start md:items-center justify-between">
    <div>
        <h4 class="text-2xl font-bold leading-tight text-gray-800">Populer Books</h4>
    </div>
</div>
<table class="table-fixed border-collapse w-full my-8">
    <thead>
        <tr>
            <th class="p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-indigo-700 hidden lg:table-cell">
                Book ID</th>
            <th class="p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-indigo-700 hidden lg:table-cell">
                Title</th>
            <th class="p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-indigo-700 hidden lg:table-cell">
                Author(s)</th>
            <th class="p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-indigo-700 hidden lg:table-cell">
                Total No. of Books</th>
            <th class="p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-indigo-700 hidden lg:table-cell">
                Books Available to Rent</th>
            <th class="p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-indigo-700 hidden lg:table-cell">
                Rented Count</th>
        </tr>
    </thead>
    <tbody>
        {% for book in books %}
        <tr
            class="bg-white lg:hover:bg-gray-100 flex lg:table-row flex-row lg:flex-row flex-wrap lg:flex-no-wrap mb-10 lg:mb-0">
            <td
                class="w-full lg:w-auto p-3 text-gray-800 lg:text-center text-right border border-x-indigo-700 border-y-indigo-700 block lg:table-cell relative lg:static">
                <span
                    class="lg:hidden absolute top-0 left-0 bg-transparent px-2 py-1 text-xs font-bold uppercase">ID</span>
                {{book.id}}
            </td>
            <td
                class="w-full lg:w-auto p-3 text-gray-800 lg:text-center text-right border border-x-indigo-700 border-b-indigo-700 block lg:table-cell relative lg:static">
                <span
                    class="lg:hidden absolute top-0 left-0 bg-transparent px-2 py-1 text-xs font-bold uppercase">Name</span>
                {{book.title}}
            </td>
            <td
                class="w-full lg:w-auto p-3 text-gray-800 lg:text-center text-right border border-x-indigo-700 border-b-indigo-700 block lg:table-cell relative lg:static">
                <span
                    class="lg:hidden absolute top-0 left-0 bg-transparent px-2 py-1 text-xs font-bold uppercase">Author</span>
                {{book.author}}
            </td>
            <td
                class="w-full lg:w-auto p-3 text-gray-800 lg:text-center text-right border border-x-indigo-700 border-b-indigo-700 block lg:table-cell relative lg:static">
                <span
                    class="lg:hidden absolute top-0 left-0 bg-transparent px-2 py-1 text-xs font-bold uppercase">Amount
                    Spent</span>
                {{book.total_quantity}}
            </td>
            <td
                class="w-full lg:w-auto p-3 text-gray-800 lg:text-center text-right border border-x-indigo-700 border-b-indigo-700 block lg:table-cell relative lg:static">
                <span
                    class="lg:hidden absolute top-0 left-0 bg-transparent px-2 py-1 text-xs font-bold uppercase">Amount
                    Spent</span>
                {{book.available_quantity}}
            </td>
            <td
                class="w-full lg:w-auto p-3 text-gray-800 lg:text-center text-right border border-x-indigo-700 border-b-indigo-700 block lg:table-cell relative lg:static">
                <span
                    class="lg:hidden absolute top-0 left-0 bg-transparent px-2 py-1 text-xs font-bold uppercase">Amount
                    Spent</span>
                {{book.rented_count}}
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
<hr/>
{% endif %}

{% if members%}
<!-- component -->
<div
    class="my-2 lg:my-4 px-6 flex flex-col md:flex-row items-start md:items-center justify-between">
    <div>
        <h4 class="text-2xl font-bold leading-tight text-gray-800">Active Members</h4>
    </div>
</div>
<table class="table-fixed border-collapse w-full my-8">
    <thead>
        <tr>
            <th class="p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-indigo-700 hidden lg:table-cell">
                Member ID</th>
            <th class="p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-indigo-700 hidden lg:table-cell">
                Name</th>
            <th class="p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-indigo-700 hidden lg:table-cell">
                amount spent</th>
        </tr>
    </thead>
    <tbody>
        {% for member in members %}
        <tr
            class="bg-white lg:hover:bg-gray-100 flex lg:table-row flex-row lg:flex-row flex-wrap lg:flex-no-wrap mb-10 lg:mb-0">
            <td
                class="w-full lg:w-auto p-3 text-gray-800 lg:text-center text-right border border-x-indigo-700 border-y-indigo-700 block lg:table-cell relative lg:static">
                <span
                    class="lg:hidden absolute top-0 left-0 bg-transparent px-2 py-1 text-xs font-bold uppercase">ID</span>
                {{member.id}}
            </td>
            <td
                class="w-full lg:w-auto p-3 text-gray-800 lg:text-center text-right border border-x-indigo-700 border-b-indigo-700 block lg:table-cell relative lg:static">
                <span
                    class="lg:hidden absolute top-0 left-0 bg-transparent px-2 py-1 text-xs font-bold uppercase">Name</span>
                {{member.name}}
            </td>
            <td
                class="w-full lg:w-auto p-3 text-gray-800 lg:text-center text-right border border-x-indigo-700 border-b-indigo-700 block lg:table-cell relative lg:static">
                <span
                    class="lg:hidden absolute top-0 left-0 bg-transparent px-2 py-1 text-xs font-bold uppercase">Author</span>
                {{member.amount_spent}}
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endif %}
{% endblock %}